<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Configuración de Simulación</title>
    <link href="/static/styles.css" rel="stylesheet" />
  </head>
  <body>
    <h1>Configuración de la Simulación</h1>

    <form id="config-form">
      <div class="card">
        <label for="algorithm">Algoritmo de Planificación:</label>
        <select id="algorithm" name="algorithm" onchange="onAlgorithmChange()">
          <option value="FIFO" selected>FIFO (First In, First Out)</option>
          <!-- Futuras opciones aquí -->
        </select>
      </div>

      <div class="card" id="quantum-config" style="display: none">
        <label for="quantum">Quantum (Para Round Robin):</label>
        <input type="number" id="quantum" name="quantum" min="1" />
      </div>

      <div class="card">
        <label>Modo de Simulación:</label>
        <input type="radio" id="step" name="mode" value="step" checked />
        <label for="step">Paso a Paso</label>
        <input type="radio" id="auto" name="mode" value="auto" />
        <label for="auto">Automático</label>
      </div>

      <div class="card">
        <label for="cycles">Número de Ciclos (máximo):</label>
        <input type="number" id="cycles" name="cycles" min="1" value="100" />
      </div>

      <div style="text-align: center; margin-top: 30px">
        <button type="button" class="main-button" onclick="startSimulation()">
          Iniciar Simulación
        </button>
      </div>
    </form>

    <script>
      function onAlgorithmChange() {
        const algorithm = document.getElementById("algorithm").value;
        const quantumConfig = document.getElementById("quantum-config");
        quantumConfig.style.display = algorithm === "RR" ? "flex" : "none";
      }

      function startSimulation() {
        const config = {
          algorithm: document.getElementById("algorithm").value,
          quantum: document.getElementById("quantum").value || null,
          mode: document.querySelector('input[name="mode"]:checked').value,
          cycles: document.getElementById("cycles").value,
        };

        console.log("Configuración seleccionada:", config);
        alert("Simulación configurada. (Integrar con backend próximamente)");
        // TODO: Aquí haremos la llamada al backend en la siguiente fase
      }
    </script>
  </body>
</html>
